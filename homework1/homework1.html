<html>

<head>
  <meta charset="utf-8">
</head>

<body>
  <style>
    .st {
      margin:10px;
    }
  </style>
  <div id="posts"> Posts </div>
  <script>
  fetch('https://www.reddit.com/top.json')
  .then(
    (response) => {
      if (response.status !== 200) {
        console.log('Looks like there was a problem. Status Code: ' +
          response.status);
        return;
      }

      response.json().then((data) => {
        const children = data.data.children;
        console.log(children);
        children.map( (child) =>{
          const title = child['data']['title'];
          const permalink = 'https://www.reddit.com' + child['data']['permalink'];
          const thumbnail = child['data']['thumbnail'];
          document.write('<div class="st">'
                          + title +
                          '<p><a href="$permalink">'
                          + permalink + '</a></p>' +
                          ' '
                          + '<img src="$thumbnail">' +
                           ' </div>')
        })
      });
    }
  )
  .catch(function(err) {
    alert('Fetch Error :-S', err);
  });
  </script>
</body>

</html>
